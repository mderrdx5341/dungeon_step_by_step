(()=>{"use strict";var e={13:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){var e=this;this._isBlocked=!1,this.keys=new Map,window.addEventListener("keyup",function(t){if(e.keys.has(t.code)){if(console.log(e._isBlocked),e.isBlocked())return;e.setBlocked(!0),console.log(e._isBlocked),e.keys.get(t.code)(t),e.setBlocked(!1)}})}return e.prototype.addActionFromKey=function(e,t){this.keys.set(e,t)},e.prototype.setBlocked=function(e){this._isBlocked=e},e.prototype.isBlocked=function(){return this._isBlocked},e}();t.default=r},51:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.name="player",this.health=1e3}return e.prototype.getName=function(){return this.name},e.prototype.getHealth=function(){return this.health},e.prototype.setHealts=function(e){this.health=e},e}();t.default=r},75:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=r(465),n=function(){function e(){this.cardsLine=[new a.default,new a.default,new a.default]}return e.prototype.getLines=function(){return this.cardsLine},e.prototype.getCardLineUp=function(){return this.getLines()[2].getCards()[1]},e.prototype.getCardLineLeft=function(){return this.getLines()[2].getCards()[0]},e.prototype.getCardLineRight=function(){return this.getLines()[2].getCards()[2]},e.prototype.update=function(){this.cardsLine[2]=this.cardsLine[1],this.cardsLine[1]=this.cardsLine[0],this.cardsLine[0]=this.generateLine()},e.prototype.generateLine=function(){return new a.default},e}();t.default=n},160:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Player=t.CardsLine=t.CardsBoard=void 0;var a=r(75);t.CardsBoard=a.default;var n=r(465);t.CardsLine=n.default;var i=r(51);t.Player=i.default},175:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Keyboard=t.Player=t.CardsBoard=void 0;var a=r(542);t.CardsBoard=a.default;var n=r(650);t.Player=n.default;var i=r(13);t.Keyboard=i.default},220:(e,t,r)=>{r.r(t)},465:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=r(884),n=function(){function e(){this.cards=[new a.default("Wrong"),new a.default("Wrong"),new a.default("Wrong")]}return e.prototype.getCards=function(){return this.cards},e}();t.default=n},542:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){var t=this;this.cardsBoard=e,this.cardsBoardHtml=document.createElement("div"),this.cardsBoardHtml.classList="cards-board",this.animation=!0,this.cardsBoardPanelHtml=document.createElement("div"),this.cardsBoardPanelHtml.classList="cards-board__panel",this.cardsBoardPanelHtml.addEventListener("transitionend",function(e){t.animation=!1,t.cardsBoardPanelHtml.classList.add("transition-none");var r=t.getTop(t.cardsBoardPanelHtml.style.top);t.cardsBoardPanelHtml.style.top=r-100+"px",t.animation=!0,t.update()}),this.cardsBoardHtml.appendChild(this.cardsBoardPanelHtml)}return e.prototype.render=function(){return this.updateHtml(),this.cardsBoardHtml},e.prototype.newLine=function(){this.cardsBoardPanelHtml.classList.remove("transition-none");var e=this.getTop(this.cardsBoardPanelHtml.style.top);this.cardsBoardPanelHtml.style.top=e+100+"px"},e.prototype.update=function(){this.cardsBoard.update(),this.cardsBoardPanelHtml.innerHTML="",this.updateHtml()},e.prototype.updateHtml=function(){for(var e=0;e<this.cardsBoard.getLines().length;e++){var t=this.cardsBoard.getLines()[e],r=document.createElement("div");r.classList="cards_board__line";for(var a=0;a<t.getCards().length;a++){var n=t.getCards()[a],i=document.createElement("div");i.classList="cards-board__item",i.innerHTML=n.getTitle()+"<br>"+n.getDamage(),r.appendChild(i)}this.cardsBoardPanelHtml.appendChild(r)}},e.prototype.getTop=function(e){return parseInt(e)||0},e}();t.default=r},650:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.player=e,this.line="center",this.playerHtml=document.createElement("div"),this.playerHtml.classList="player",this.playerCard=document.createElement("div"),this.playerCard.classList="player__card player__card--center"}return e.prototype.getLinePosition=function(){return this.line},e.prototype.render=function(){return this.update(),this.playerHtml.appendChild(this.playerCard),this.playerHtml},e.prototype.update=function(){this.playerCard.innerHTML=this.player.getName()+"<br>"+this.player.getHealth()},e.prototype.MoveTo=function(e){return"center"==this.line&&"center"==e?(this.line="center",!0):"right"==this.line&&"center"==e?(this.line="right",!0):"right"==this.line&&"left"==e?(this.line="center",this.moveCenter(),!0):("right"!=this.line||"right"!=e)&&("left"==this.line&&"center"==e?(this.line="left",this.moveLeft(),!0):"left"==this.line&&"right"==e?(this.line="center",this.moveCenter(),!0):("left"!=this.line||"left"!=e)&&("center"==this.line&&"right"==e?(this.line="right",this.moveRight(),!0):"center"==this.line&&"left"==e?(this.line="left",this.moveLeft(),!0):void this.update()))},e.prototype.getLine=function(){return this.line},e.prototype.moveCenter=function(){this.playerCard.classList="player__card player__card--center"},e.prototype.moveRight=function(){this.playerCard.classList="player__card player__card--right"},e.prototype.moveLeft=function(){this.playerCard.classList="player__card player__card--left"},e}();t.default=r},884:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.title=e,this.damage=Math.floor(10*Math.random())}return e.prototype.getTitle=function(){return this.title},e.prototype.getDamage=function(){return this.damage},e}();t.default=r}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,r),i.exports}r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{r(220);var e=r(160),t=r(175),a=function(){function r(e){this.rootNode=document.querySelector(e)}return r.prototype.run=function(){var r=this;this.keyboard=new t.Keyboard;var a=new e.CardsBoard,n=new t.CardsBoard(a),i=new e.Player,o=new t.Player(i);this.keyboard.addActionFromKey("ArrowUp",function(e){if(o.MoveTo("center")){if(n.newLine(),"center"==o.getLine()){var t=a.getCardLineUp().getDamage(),r=i.getHealth()-t;i.setHealts(r)}else"right"==o.getLine()?(t=a.getCardLineRight().getDamage(),r=i.getHealth()-t,i.setHealts(r)):"left"==o.getLine()&&(t=a.getCardLineLeft().getDamage(),r=i.getHealth()-t,i.setHealts(r));o.update()}}),this.keyboard.addActionFromKey("ArrowRight",function(e){if(r.keyboard.setBlocked(!0),o.MoveTo("right")){if(n.newLine(),"center"==o.getLine()){var t=a.getCardLineUp().getDamage(),s=i.getHealth()-t;i.setHealts(s)}else"right"==o.getLine()?(t=a.getCardLineRight().getDamage(),s=i.getHealth()-t,i.setHealts(s)):"left"==o.getLine()&&(t=a.getCardLineLeft().getDamage(),s=i.getHealth()-t,i.setHealts(s));o.update()}r.keyboard.setBlocked(!1)}),this.keyboard.addActionFromKey("ArrowLeft",function(e){if(r.keyboard.setBlocked(!0),o.MoveTo("left")){if(n.newLine(),"center"==o.getLine()){var t=a.getCardLineUp().getDamage(),s=i.getHealth()-t;i.setHealts(s)}else"right"==o.getLine()?(t=a.getCardLineRight().getDamage(),s=i.getHealth()-t,i.setHealts(s)):"left"==o.getLine()&&(t=a.getCardLineLeft().getDamage(),s=i.getHealth()-t,i.setHealts(s));o.update()}r.keyboard.setBlocked(!1)}),this.rootNode.appendChild(n.render()),this.rootNode.appendChild(o.render())},r}();document.addEventListener("DOMContentLoaded",function(){new a("#app").run()})})()})();
//# sourceMappingURL=app.js.map